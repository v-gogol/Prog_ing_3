Для отмены нескольких команд используется стек истории (CommandHistory), где каждая выполненная команда сохраняется. Отмена происходит последовательно через метод Undo(), который извлекает команды из стека и вызывает их собственный метод отмены.

Ограничения системы:
1. Линейная отмена — можно отменять только последовательно, начиная с последней команды
2. Память — история хранит все выполненные команды, что может потреблять много памяти
3. Невозможность отмены отдельных команд в середине истории без потери последующих
4.Ограниченная логика отмены — некоторые действия (например, движение лифта при сбое) могут не иметь полноценной обратной операции
5. Потеря состояния при очистке истории — команды, вытесненные из стека, нельзя восстановить